════════════════════════════════════════════════════════════════════════════════
REQUIREMENTS CLARIFICATION: Exam Purchasing
════════════════════════════════════════════════════════════════════════════════
Created: 2026-01-14T21:15:00Z
Intent: High-level (features/requirements)
Status: READY_FOR_INTEGRATION

INPUT SUMMARY
─────────────
Exam Purchasing feature. Auditors require the ability to purchase exam invoices
from their account. They need a dedicated account page where they can purchase
exam invoices according to which exam they are currently eligible for...

Context: These are some initial test requirements, and the goal here is to flesh
these out before adding them to the data structure. Also, when these get added,
we will want to remove the current user story, epic, and feature that serve as
test data right now.

HIERARCHY
─────────
FEAT-002 Exam Purchasing System
├── REQ-002 Exam Invoice Purchasing
├── REQ-003 Exam Eligibility Enforcement
├── REQ-004 Invoice Payment Clearance
└── REQ-005 Re-sit Designation and Pricing

ART-001 Exam Eligibility Rules
├── Good standing criteria
├── Exam sequence requirements
├── Pass requirements for progression
├── Re-sit designation and pricing
└── Invoice payment requirements

DOMAIN ARTIFACTS
────────────────
ART-001: Exam Eligibility Rules
  Documents business rules governing which exams an auditor is eligible to
  purchase, including:
  - Good standing definition: Active APSCA membership (paid) + no ethics violations
  - Exam sequence: Part 1 → Part 2 → Part 3 (must pass each before next)
  - No re-takes allowed after passing an exam
  - Re-sit designation for failed exams (affects pricing and tracking)
  - Invoice payment clearance required (all unpaid invoices must be paid)

REQUIREMENTS
────────────
REQ-002: Exam Invoice Purchasing
  Type: functional
  Statement: Auditors must be able to purchase exam invoices from their account
             based on eligibility rules
  Rationale: Enable auditors to self-service exam registration and payment
  Domain: ART-001 (Exam Eligibility Rules)

REQ-003: Exam Eligibility Enforcement
  Type: functional
  Statement: System must enforce exam eligibility rules strictly, preventing
             purchase of ineligible exams
  Rationale: Ensure compliance with exam progression requirements and good
             standing criteria
  Domain: ART-001 (Exam Eligibility Rules)
  Rules enforced:
    - Good standing: Active APSCA membership (paid) + no ethics violations
    - Exam sequence: Part 1 → Part 2 → Part 3 (must pass before next)
    - No re-takes: Cannot retake passed exams (progression is one-directional)

REQ-004: Invoice Payment Clearance
  Type: functional
  Statement: Auditors with unpaid invoices must clear all outstanding payments
             before purchasing new exam invoices
  Rationale: Prevent accumulation of unpaid invoices and ensure financial
             accountability
  Scope: Applies to ALL invoice types (exam, membership, fees)
  Note: Paid invoices for untaken exams do NOT block new purchases

REQ-005: Re-sit Designation and Pricing
  Type: functional
  Statement: Failed exams must be designated as re-sits with appropriate pricing
             and attempt tracking when re-purchased
  Rationale: Differentiate pricing between first attempts and re-sits; track
             attempt history per exam type
  Impact:
    - Different pricing for re-sit attempts vs first attempts
    - Track number of attempts per exam type for auditor

FEATURES
────────
FEAT-002: Exam Purchasing System
  Purpose: Enable auditors to purchase exam invoices based on eligibility
  Business Value: Streamlines exam registration, enforces progression requirements,
                  ensures payment compliance, and provides self-service capability
  In Scope:
    - Account page for exam invoice purchasing
    - Eligibility validation and enforcement
    - Integration with good standing status verification
    - Unpaid invoice detection and blocking
    - Re-sit designation, pricing, and attempt tracking
    - Support for three exam parts (Part 1, 2, 3)
  Out of Scope:
    - Exam scheduling and administration
    - Exam content and delivery
    - Payment processing implementation (uses existing invoice system)
    - Membership management
    - Good standing status determination (consumes existing data)
  Requirements: REQ-002, REQ-003, REQ-004, REQ-005
  Domain: ART-001

CLARIFICATIONS RESOLVED
───────────────────────
Q: What defines 'good standing' for an auditor?
A: Active APSCA membership (paid) + no ethics violations

Q: Does 'pending invoices not paid for' mean unpaid only, or also paid invoices
   for untaken exams?
A: Unpaid invoices only (exam, membership, and fee invoices). Paid invoices for
   untaken exams do not block new purchases.

Q: How many exam parts exist in the system?
A: Three exam parts (Part 1, Part 2, Part 3)

Q: What is the impact of designating an exam as a 're-sit'?
A: Different pricing for re-sits AND tracking of attempt count per exam type

Q: Can auditors re-take an exam they already passed?
A: No. Once passed, auditor cannot take the exam again. Progression is
   one-directional.

Q: Should test data be deprecated when adding these requirements?
A: Yes, deprecate all test artifacts (FEAT-001, EPIC-001, STORY-001, REQ-001,
   REL-2026-01-13)

DEFERRED DECISIONS
──────────────────
- UI/UX specifics (show only eligible exams vs show all with disabled state)
- Detailed story breakdown and acceptance criteria
- Test intent specification (failure modes, guarantees)
- Re-sit attempt limits and waiting periods (if any)
- Specific pricing differences between first attempts and re-sits

MIGRATION ACTIONS
─────────────────
- Deprecate REQ-001 (User Authentication) - test data
- Deprecate FEAT-001 (Login System) - test data
- Set EPIC-001:v1 status to superseded - test data
- Set STORY-001:v1 status to superseded - test data
- Set REL-2026-01-13 status to superseded - test data

NEXT ARTIFACTS TO CREATE
─────────────────────────
When integrated, the following will be created:
  - ART-001 (Exam Eligibility Rules) - domain documentation
  - REQ-002 (Exam Invoice Purchasing) - functional requirement
  - REQ-003 (Exam Eligibility Enforcement) - functional requirement
  - REQ-004 (Invoice Payment Clearance) - functional requirement
  - REQ-005 (Re-sit Designation and Pricing) - functional requirement
  - FEAT-002 (Exam Purchasing System) - feature definition

Future work (detailed phase):
  - Epic definitions with summaries and release assignments
  - Story definitions with acceptance criteria and test intent
  - Specific UI/UX requirements

════════════════════════════════════════════════════════════════════════════════
NEXT STEP: /integrate-changes approvals/exam-purchasing.txt
════════════════════════════════════════════════════════════════════════════════
